#set ( $LCentityName = $fn.uncapitalize($entity.name) )
<!-- File generated by $generator.name ( version $generator.version ) - Date $today.date("yyyy-MM-dd") ( Time $today.time ) --> 

<div class="container-fluid">
  <div class="panel panel-position planel-plus-style">
    <form class="form-horizontal" [formGroup]="form" novalidate (ngSubmit)="save()">
      <div class="panel-heading">
        <h3>
          {{ title }}
          <a *ngIf="$LCentityName" class="btn btn-default pull-right" [routerLink]="['/${LCentityName}-form']">
            <span class="glyphicon glyphicon-plus"></span>
          </a>
          <a class="btn btn-default pull-right link-back-list" [routerLink]="['/${LCentityName}-list']">
            List
          </a>
        </h3>
      </div>
      <div class="panel-body">
#foreach ( $attrib in $entity.attributes)
#if ($attrib.isKeyElement() && !$attrib.isFK())
#if (!$attrib.isAutoIncremented())
        <fieldset [disabled]="$LCentityName">
          <div class="col-md-6">
            <div class="form-group" [ngClass]="{'has-error': !form.controls.${attrib.name}.valid && form.controls.${attrib.name}.touched}">
              <label for="${LCentityName}ID" class="col-sm-2 control-label">${attrib.name}</label>
              <div class="col-sm-10">
                <input type="text" class="form-control" id="${LCentityName}ID" placeholder="${attrib.name}" formControlName="${attrib.name}">
                <span class="help-block" *ngIf="!form.controls.${attrib.name}.valid && form.controls.${attrib.name}.touched">${attrib.name} field is required</span>
              </div>
            </div>
          </div>
        </fieldset>
#else
		<fieldset disabled>
          <div class="col-md-6">
            <div class="form-group" [ngClass]="{'has-error': !form.controls.${attrib.name}.valid && form.controls.${attrib.name}.touched}">
              <label for="${LCentityName}ID" class="col-sm-2 control-label">${attrib.name}</label>
              <div class="col-sm-10">
                <input type="text" class="form-control" id="${LCentityName}ID" placeholder="${attrib.name}" formControlName="${attrib.name}">
                <span class="help-block" *ngIf="!form.controls.${attrib.name}.valid && form.controls.${attrib.name}.touched">${attrib.name} field is required</span>
              </div>
            </div>
          </div>
		</fieldset>
#end
#elseif ($attrib.isDateType())
        <div class="col-md-6">
          <div class="form-group"#if($attrib.isNotNull()) [ngClass]="{'has-error': !form.controls.${attrib.name}.valid && form.controls.${attrib.name}.touched}"#end>
            <label for="${LCentityName}${attrib.name}" class="col-sm-2 control-label">${attrib.name}</label>
            <div class="col-sm-10">
              <div class="input-group">
                <input type="text" class="form-control" id="${LCentityName}${attrib.name}" placeholder="${attrib.name}" bsDatepicker formControlName="${attrib.name}" [bsConfig]="bsConfig"
                />
                <span class="input-group-addon">
                  <span class="glyphicon glyphicon-calendar"></span>
                </span>
              </div>
#if($attrib.isNotNull())
              <span class="help-block" *ngIf="!form.controls.${attrib.name}.valid && form.controls.${attrib.name}.touched">${attrib.name} field is required</span>
#end
            </div>
          </div>
        </div>
#elseif ( ($attrib.isFK() && $attrib.isKeyElement()) || $attrib.isFK() )
#set($keyAttrib = $attrib.referencedEntity.keyAttribute.name)
        <fieldset [disabled]="$LCentityName">
          <div class="col-md-6">
            <div class="form-group" [ngClass]="{'has-error': !form.controls.${attrib.name}.valid && form.controls.${attrib.name}.touched}">
              <label for="${LCentityName}${attrib.name}" class="col-sm-2 control-label">${attrib.name}</label>
              <div class="col-sm-10">
                <select class="form-control" formControlName="${attrib.name}">
                  <option *ngFor="let ${attrib.name} of $fn.uncapitalize($attrib.referencedEntity.name)sData" [value]="${attrib.name}.${keyAttrib}">
#foreach ( $refAttrib in $attrib.referencedEntity.attributes)
#if ($foreach.count < $attrib.referencedEntity.attributes.size())
#if ($refAttrib.isKeyElement())
#set($options = "{{ ${attrib.name}.$keyAttrib }} | ")
#else
#set($options = $options + "{{ ${attrib.name}.${refAttrib.name} }} - ")
#end
#else
#set($options = $options + "{{ ${attrib.name}.${refAttrib.name} }}")
#end
#end
                    $options
                  </option>
                </select>
                <span class="help-block" *ngIf="!form.controls.${attrib.name}.valid && form.controls.${attrib.name}.touched">${attrib.name} field is required</span>
              </div>
            </div>
          </div>
        </fieldset>
#else
        <div class="col-md-6">
          <div class="form-group"#if($attrib.isNotNull()) [ngClass]="{'has-error': !form.controls.${attrib.name}.valid && form.controls.${attrib.name}.touched}"#end>
            <label for="${LCentityName}${attrib.name}" class="col-sm-2 control-label">${attrib.name}</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="${LCentityName}${attrib.name}" placeholder="${attrib.name}" formControlName="${attrib.name}">
#if($attrib.isNotNull())
              <span class="help-block" *ngIf="!form.controls.${attrib.name}.valid && form.controls.${attrib.name}.touched">${attrib.name} field is required</span>
#end
            </div>
          </div>
        </div>
#end
#end
      </div>
      <div class="panel-footer">
        <button type="submit" class="btn btn-success" [disabled]="!form.valid">
          <span class="glyphicon glyphicon-floppy-save"></span> Save
        </button>
#set ($entityNameprefix = "!${LCentityName}?.")
#set ($entityNameprefixParam = "${LCentityName}?.")
        <button type="button" class="btn btn-danger pull-right" [disabled]="${entity.keyAttributesNamesAsString(' && ', $entityNameprefix, '')}" (click)="openDeleteModal()">
          <span class="glyphicon glyphicon-trash"></span> Delete
        </button>
      </div>
    </form>
  </div>
</div>

<modal ${SHARP}deleteModal title="Delete confirmation" cancelButtonLabel="Cancel" submitButtonLabel="Yes" modalClass="modal-lg modal-sm any-other-css-class"
  [hideCloseButton]="false" [closeOnEscape]="true" [closeOnOutsideClick]="true" (onSubmit)="confirmDelete()">
  <modal-content>
#set ($entityModalParam = "{{ ${LCentityName}?.")
    Are you sure you want to delete the ${LCentityName} : ${entity.keyAttributesNamesAsString('/', $entityModalParam, ' }}')} ?
  </modal-content>
</modal>